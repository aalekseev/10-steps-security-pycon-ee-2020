(window.webpackJsonp=window.webpackJsonp||[]).push([[4],[,,,,,,function(e,t,a){e.exports=a.p+"8473cbb4871aa69e1466f3ab850d495c.webp"},function(e,t,a){e.exports=a.p+"e4a2ce30bf74321c916a08836bcc3270.webp"},function(e,t,a){e.exports=a.p+"6ef249b440a1be1f699788159717fbc7.webp"},function(e,t,a){e.exports=a.p+"bca528bca07d836dbc907b7848cd845e.webp"},function(e,t,a){e.exports=a.p+"3d348bf14ea0eb8a50888563b971b241.webp"},function(e,t,a){e.exports=a.p+"0fba74fcd06fd5142b30457a609ab2fd.webp"},function(e,t,a){e.exports=a.p+"33f56e94a966b74de3e5ff2597096d55.webp"},function(e,t,a){e.exports=a.p+"7694019e66cad4a35682eac10b4f5d3a.webp"},function(e,t,a){e.exports=a.p+"689b4aaa335185c5a4f39ddab7f95d29.webp"},,,,,,,,function(e,t,a){a(23),a(60),e.exports=a(57)},,,,,,,,,,,,,,,,,,,,function(e,t,a){var n={"./00-title.md":43,"./01-about-me.md":44,"./02-breaches.md":45,"./03-misconceptions.md":46,"./04-secure-connection.md":47,"./05-configure-software.md":48,"./06-secrets.md":49,"./07-dependencies.md":50,"./08-guessing.md":51,"./09-tools.md":52,"./10-user-input.md":53,"./11-sensitive-data.md":54,"./12-access-control.md":55,"./13-end.md":56};function o(e){var t=i(e);return a(t)}function i(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=i,e.exports=o,o.id=42},function(e,t,a){"use strict";a.r(t),a.d(t,"slides",(function(){return l})),a.d(t,"fusumaProps",(function(){return c})),a.d(t,"default",(function(){return p}));var n=a(2),o=a.n(n),i=a(1);function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var l=[function(e){return Object(i.a)(o.a.Fragment,null,Object(i.a)("h2",null,"10 Steps For ",Object(i.a)("em",{parentName:"h2"},"More Secure")," Web Applications"),Object(i.a)("p",null,"Anton Alekseev for Pycon Estonia 2020"))}],c=[{classes:"title"}],u={};function p(e){var t=e.components,a=s(e,["components"]);return Object(i.a)("wrapper",r({},u,a,{components:t,mdxType:"MDXLayout"}),Object(i.a)("h2",null,"10 Steps For ",Object(i.a)("em",{parentName:"h2"},"More Secure")," Web Applications"),Object(i.a)("p",null,"Anton Alekseev for Pycon Estonia 2020"))}p.isMDXComponent=!0},function(e,t,a){"use strict";a.r(t),a.d(t,"slides",(function(){return u})),a.d(t,"fusumaProps",(function(){return p})),a.d(t,"default",(function(){return h}));var n=a(6),o=a.n(n),i=a(2),r=a.n(i),s=a(1);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var u=[function(e){return Object(s.a)(r.a.Fragment,null,Object(s.a)("div",{className:"card-50"},Object(s.a)("img",{src:o.a,className:"size-30"}),Object(s.a)("div",{className:"flex-content about-me"},Object(s.a)("h2",null,"Anton Alekseev"),Object(s.a)("div",null,Object(s.a)("p",null,"Tech Lead and Fullstack Developer at ",Object(s.a)("a",{href:"https://thorgate.eu",target:"_blank"},"Thorgate")),Object(s.a)("p",null,"Disclaimer: not a professional security expert")),Object(s.a)("ul",null,Object(s.a)("li",null,"GitHub: @aalekseev"),Object(s.a)("li",null,"Twitter: @anton_alekseev")))))}],p=[{sectionTitle:"About me",note:"Hello!\n\nI am a full-stack developer at Thorgate - a digital agency\nfocused on helping industry companies automate internal processes.\n\nI am a regular software developer who decided to invest time and learning\nabout security of web applications.\n\nIf you like what you see, come talk to me - we are always happy to on-board motivated professionals\n\nNEXT: How many data breaches that happaned this year did you heard about?"}],b={};function h(e){var t=e.components,a=c(e,["components"]);return Object(s.a)("wrapper",l({},b,a,{components:t,mdxType:"MDXLayout"}),Object(s.a)("div",{className:"card-50"},Object(s.a)("img",{src:o.a,className:"size-30"}),Object(s.a)("div",{className:"flex-content about-me"},Object(s.a)("h2",null,"Anton Alekseev"),Object(s.a)("div",null,Object(s.a)("p",null,"Tech Lead and Fullstack Developer at ",Object(s.a)("a",{href:"https://thorgate.eu",target:"_blank"},"Thorgate")),Object(s.a)("p",null,"Disclaimer: not a professional security expert")),Object(s.a)("ul",null,Object(s.a)("li",null,"GitHub: @aalekseev"),Object(s.a)("li",null,"Twitter: @anton_alekseev")))))}h.isMDXComponent=!0},function(e,t,a){"use strict";a.r(t),a.d(t,"slides",(function(){return l})),a.d(t,"fusumaProps",(function(){return c})),a.d(t,"default",(function(){return p}));var n=a(2),o=a.n(n),i=a(1);function r(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var l=[function(e){return Object(i.a)(o.a.Fragment,null,Object(i.a)("h2",null,"Famous Breaches in 2020"),Object(i.a)("ul",null,Object(i.a)("li",{parentName:"ul"},"January 22, 2020 - ",Object(i.a)("a",s({parentName:"li"},{href:"https://www.zdnet.com/article/microsoft-discloses-security-breach-of-customer-support-database/"}),Object(i.a)("strong",{parentName:"a"},"Microsoft")," 280 000 000 customer records leaked")),Object(i.a)("li",{parentName:"ul"},"March 5, 2020 - ",Object(i.a)("a",s({parentName:"li"},{href:"https://www.t-mobile.com/responsibility/consumer-info/pii-notice"}),Object(i.a)("strong",{parentName:"a"},"T-Mobile")," - addresses, social security numbers, financial account information and more")),Object(i.a)("li",{parentName:"ul"},"April 13, 2020 - ",Object(i.a)("a",s({parentName:"li"},{href:"https://securityboulevard.com/2020/04/san-francisco-international-airport-reveals-data-breach-on-two-websites/"}),Object(i.a)("strong",{parentName:"a"},"San Francisco International Airport")," - logins and passwords of users SFOConnect.com and SFOConstruction.com")),Object(i.a)("li",{parentName:"ul"},"April 14, 2020 - ",Object(i.a)("a",s({parentName:"li"},{href:"https://www.fightingidentitycrimes.com/500-000-zoom-accounts-discovered-on-dark-web/"}),Object(i.a)("strong",{parentName:"a"},"Zoom")," - 500 000 accounts found on sale on the dark web")),Object(i.a)("li",{parentName:"ul"},"April 21, 2020 - ",Object(i.a)("a",s({parentName:"li"},{href:"https://www.bleepingcomputer.com/news/security/267-million-facebook-profiles-sold-for-600-on-the-dark-web/"}),Object(i.a)("strong",{parentName:"a"},"Facebook")," - 267 000 000 profiles went on sale on the dark web")),Object(i.a)("li",{parentName:"ul"},"April 27, 2020 - ",Object(i.a)("a",s({parentName:"li"},{href:"https://www.techrepublic.com/article/how-to-protect-your-nintendo-account-after-the-recent-data-breach/"}),Object(i.a)("strong",{parentName:"a"},"Nintendo")," - 160 000 player accounts got stolen")),Object(i.a)("li",{parentName:"ul"},"May 4, 2020 - ",Object(i.a)("a",s({parentName:"li"},{href:"https://www.bleepingcomputer.com/news/security/godaddy-notifies-users-of-breached-hosting-accounts/"}),Object(i.a)("strong",{parentName:"a"},"GoDaddy")," - 24 000 logins and passwords exposed")),Object(i.a)("li",{parentName:"ul"},"June 23, 2020 - ",Object(i.a)("a",s({parentName:"li"},{href:"https://techcrunch.com/2020/06/23/twitter-says-some-business-users-had-their-pivate-data-exposed/"}),Object(i.a)("strong",{parentName:"a"},"Twitter")," - business users data exposed")),Object(i.a)("li",{parentName:"ul"},"August 20, 2020 - ",Object(i.a)("a",s({parentName:"li"},{href:"https://www.identityforce.com/blog/235-million-instagram-tiktok-youtube-profiles-exposed"}),Object(i.a)("strong",{parentName:"a"},"Instagram, TikTok & Youtube")," - database with 235 000 000 accounts exposed online")),Object(i.a)("li",{parentName:"ul"},"... and ",Object(i.a)("a",s({parentName:"li"},{href:"https://www.identityforce.com/blog/2020-data-breaches"}),"more"))))}],c=[{sectionTitle:"Famous Breaches 2020",note:"Well, there were a lot. On this slide you can see the major one of 2020, but a lot more\ncan be found from the link on the slide. The most recent one with 235 M user account exposed online\nis terrifying. And you see, social media leaks data, banks leaks data, airports leaks data,\nyour local gym leaks data. Everyone do it.\n\nI feel that security is a topic that needs to be reminded every now and then,\nthat&#x27;s why I am here today to talk about security.\n\nNEXT: Let&#x27;s talk a bit about what is security and myths round it. It fells that there is a lot\nmisconceptions about this topic."}],u={};function p(e){var t=e.components,a=r(e,["components"]);return Object(i.a)("wrapper",s({},u,a,{components:t,mdxType:"MDXLayout"}),Object(i.a)("h2",null,"Famous Breaches in 2020"),Object(i.a)("ul",null,Object(i.a)("li",{parentName:"ul"},"January 22, 2020 - ",Object(i.a)("a",s({parentName:"li"},{href:"https://www.zdnet.com/article/microsoft-discloses-security-breach-of-customer-support-database/"}),Object(i.a)("strong",{parentName:"a"},"Microsoft")," 280 000 000 customer records leaked")),Object(i.a)("li",{parentName:"ul"},"March 5, 2020 - ",Object(i.a)("a",s({parentName:"li"},{href:"https://www.t-mobile.com/responsibility/consumer-info/pii-notice"}),Object(i.a)("strong",{parentName:"a"},"T-Mobile")," - addresses, social security numbers, financial account information and more")),Object(i.a)("li",{parentName:"ul"},"April 13, 2020 - ",Object(i.a)("a",s({parentName:"li"},{href:"https://securityboulevard.com/2020/04/san-francisco-international-airport-reveals-data-breach-on-two-websites/"}),Object(i.a)("strong",{parentName:"a"},"San Francisco International Airport")," - logins and passwords of users SFOConnect.com and SFOConstruction.com")),Object(i.a)("li",{parentName:"ul"},"April 14, 2020 - ",Object(i.a)("a",s({parentName:"li"},{href:"https://www.fightingidentitycrimes.com/500-000-zoom-accounts-discovered-on-dark-web/"}),Object(i.a)("strong",{parentName:"a"},"Zoom")," - 500 000 accounts found on sale on the dark web")),Object(i.a)("li",{parentName:"ul"},"April 21, 2020 - ",Object(i.a)("a",s({parentName:"li"},{href:"https://www.bleepingcomputer.com/news/security/267-million-facebook-profiles-sold-for-600-on-the-dark-web/"}),Object(i.a)("strong",{parentName:"a"},"Facebook")," - 267 000 000 profiles went on sale on the dark web")),Object(i.a)("li",{parentName:"ul"},"April 27, 2020 - ",Object(i.a)("a",s({parentName:"li"},{href:"https://www.techrepublic.com/article/how-to-protect-your-nintendo-account-after-the-recent-data-breach/"}),Object(i.a)("strong",{parentName:"a"},"Nintendo")," - 160 000 player accounts got stolen")),Object(i.a)("li",{parentName:"ul"},"May 4, 2020 - ",Object(i.a)("a",s({parentName:"li"},{href:"https://www.bleepingcomputer.com/news/security/godaddy-notifies-users-of-breached-hosting-accounts/"}),Object(i.a)("strong",{parentName:"a"},"GoDaddy")," - 24 000 logins and passwords exposed")),Object(i.a)("li",{parentName:"ul"},"June 23, 2020 - ",Object(i.a)("a",s({parentName:"li"},{href:"https://techcrunch.com/2020/06/23/twitter-says-some-business-users-had-their-pivate-data-exposed/"}),Object(i.a)("strong",{parentName:"a"},"Twitter")," - business users data exposed")),Object(i.a)("li",{parentName:"ul"},"August 20, 2020 - ",Object(i.a)("a",s({parentName:"li"},{href:"https://www.identityforce.com/blog/235-million-instagram-tiktok-youtube-profiles-exposed"}),Object(i.a)("strong",{parentName:"a"},"Instagram, TikTok & Youtube")," - database with 235 000 000 accounts exposed online")),Object(i.a)("li",{parentName:"ul"},"... and ",Object(i.a)("a",s({parentName:"li"},{href:"https://www.identityforce.com/blog/2020-data-breaches"}),"more"))))}p.isMDXComponent=!0},function(e,t,a){"use strict";a.r(t),a.d(t,"slides",(function(){return u})),a.d(t,"fusumaProps",(function(){return p})),a.d(t,"default",(function(){return h}));var n=a(7),o=a.n(n),i=a(2),r=a.n(i),s=a(1);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var u=[function(e){return Object(s.a)(r.a.Fragment,null,Object(s.a)("h2",null,"What is Security?"),Object(s.a)("p",null,"SECURITY DOES NOT EXIST"),Object(s.a)("img",{className:"content-center slide-bottom",src:o.a}),Object(s.a)("p",null,Object(s.a)("small",null,"Image from ",Object(s.a)("a",{href:"https://pixabay.com/?utm_source=link-attribution&utm_medium=referral&utm_campaign=image&utm_content=2007266"},"Pixabay"))))},function(e){return Object(s.a)(r.a.Fragment,null,Object(s.a)("h2",null,"It is a job for ",Object(s.a)("em",{parentName:"h2"},Object(s.a)("strong",{parentName:"em"},"only"))," security professionals"),Object(s.a)("ul",null,Object(s.a)("li",{parentName:"ul"},Object(s.a)("strong",{parentName:"li"},"Staff, Sales, Marketing")," - use strong passwords, know about phishing"),Object(s.a)("li",{parentName:"ul"},Object(s.a)("strong",{parentName:"li"},"Developers")," - know about vulnerabilities and follow security practices"),Object(s.a)("li",{parentName:"ul"},Object(s.a)("strong",{parentName:"li"},"Engeneering Managers")," - schedule secure audits"),Object(s.a)("li",{parentName:"ul"},Object(s.a)("strong",{parentName:"li"},"Project Managers")," - work with client to avoid changes that will introduce security risks")))},function(e){return Object(s.a)(r.a.Fragment,null,Object(s.a)("h2",null,"Security is too complex to learn about"))},function(e){return Object(s.a)(r.a.Fragment,null,Object(s.a)("h2",null,"My framework will protect me from all security threats"))}],p=[{sectionTitle:"Misconceptions",note:"Right from the start let&#x27;s be transparent about it - there is no such thing as security.\nNo system is 100% secure, and everything is mostly broken.\n\nNEXT: With this out of the way, there are a few more topics that I would like to\nclear out. In my opinion security problems so often related to people rather than code\nthat talking a more about security mindset is as important as stories about\ncool vulnerabilities."},{note:"Security is not just a thing for security experts do, and you don&#x27;t need to know about.\nAn opposite, security is a shared responsibility. It is everyone job. And here is some examples:\n\n- It is responsibility of the staff members, sales, marketing team, to use strong passwords and keep them in password manager, and also be aware about phishing attacks\n- It is responsibility of the developer to look out for SQL injection, XSS attacks and more\n- It is responsibility of the engeneering manager to make sure that secure audits are done regularly\n- It is responsibility of the project manager to decline the changes from the client if it will be a security risk"},{note:"Well it is, especially cryptography, this stuff is tough.\nBut at the same time, it is fun and the stories about braking the system is most of the time\nreads like a good detective story or a comedy where main character stores passwords on a sticky note \non the workdesk.\n\nBut jokes aside, there are basic steps, if followed, that will make\nyour web application better protected than vast majority of sites. Amature hackers looking\nfor an easy target, and professional hacker will brake your site anyway\nif you don&#x27;t have a dedicated InfoSec team."},{note:"Yes, from some of them. Your framework will protect you on the start, but as application logic grows,\ndevelopers will itroduce more vulnerabilities in code and there will be less and less\nhelp from the framework itself.\n\n**NEXT**: So that was about misconceptions about security. And with that we can now look at the\nthings that we, as a developers, can do to make our applications more secure."}],b={};function h(e){var t=e.components,a=c(e,["components"]);return Object(s.a)("wrapper",l({},b,a,{components:t,mdxType:"MDXLayout"}),Object(s.a)("h2",null,"What is Security?"),Object(s.a)("p",null,"SECURITY DOES NOT EXIST"),Object(s.a)("img",{className:"content-center slide-bottom",src:o.a}),Object(s.a)("p",null,Object(s.a)("small",null,"Image from ",Object(s.a)("a",{href:"https://pixabay.com/?utm_source=link-attribution&utm_medium=referral&utm_campaign=image&utm_content=2007266"},"Pixabay"))),Object(s.a)("hr",null),Object(s.a)("h2",null,"It is a job for ",Object(s.a)("em",{parentName:"h2"},Object(s.a)("strong",{parentName:"em"},"only"))," security professionals"),Object(s.a)("ul",null,Object(s.a)("li",{parentName:"ul"},Object(s.a)("strong",{parentName:"li"},"Staff, Sales, Marketing")," - use strong passwords, know about phishing"),Object(s.a)("li",{parentName:"ul"},Object(s.a)("strong",{parentName:"li"},"Developers")," - know about vulnerabilities and follow security practices"),Object(s.a)("li",{parentName:"ul"},Object(s.a)("strong",{parentName:"li"},"Engeneering Managers")," - schedule secure audits"),Object(s.a)("li",{parentName:"ul"},Object(s.a)("strong",{parentName:"li"},"Project Managers")," - work with client to avoid changes that will introduce security risks")),Object(s.a)("hr",null),Object(s.a)("h2",null,"Security is too complex to learn about"),Object(s.a)("hr",null),Object(s.a)("h2",null,"My framework will protect me from all security threats"))}h.isMDXComponent=!0},function(e,t,a){"use strict";a.r(t),a.d(t,"slides",(function(){return u})),a.d(t,"fusumaProps",(function(){return p})),a.d(t,"default",(function(){return h}));var n=a(8),o=a.n(n),i=a(2),r=a.n(i),s=a(1);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var u=[function(e){return Object(s.a)(r.a.Fragment,null,Object(s.a)("h2",null,"10 Steps"),Object(s.a)("ol",null,Object(s.a)("li",{className:"active"},"Use secure connection"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?")))},function(e){return Object(s.a)(r.a.Fragment,null,Object(s.a)("h2",null,"1. Use secure connection (for everything)"),Object(s.a)("img",{src:o.a,className:"slide-bottom content-center"}))},function(e){return Object(s.a)(r.a.Fragment,null,Object(s.a)("h2",null,"1. Use secure connection for everything (fix)"),Object(s.a)("ol",null,Object(s.a)("li",{parentName:"ol"},"Ensure that SSL sertificates are not expired (have a notification when it is)"),Object(s.a)("li",{parentName:"ol"},"Ensure that on load-balancer or proxy serving all requests via secure connection.\nAlso check out ",Object(s.a)("inlineCode",{parentName:"li"},"SECURE_SSL_REDIRECT")," Django setting"),Object(s.a)("li",{parentName:"ol"},"Ensure that every image, javascript and stylesheet are server under secure connection as well"),Object(s.a)("li",{parentName:"ol"},"Ensure that if your application communicate with third-party API it uses a secure connection"),Object(s.a)("li",{parentName:"ol"},"If your application needs to transfer files via FTP, prefer using SFTP")))}],p=[{classes:"ten-steps",note:"On this slide we see a 10 steps checklist that we will be revisiting in the end.\nWe can see only first item right now, but other items will be revealed as we go,\nand a link to the repository with complete steps will be available in the last slides.\nWe will start with easy to fix things and will go down the topics where automation tools\nwon&#x27;t help you that much and you will be feeling scared and alone.\n\nNEXT: The first item in the list might seem even too easy. Like it is 2020, browsers will show\nhis icon with a lock near the site address to give a hint that site is secure."},{sectionTitle:"Secure Connection",note:"Well, what is overlooked, is that even if the site itself is served over HTTPS connection,\nif parts of it still using insecure HTTP connection to load images, javascript files or stylesheets\nyou can say that it is not using secure connection.\n\nThe resource that is requested via insecure connection can be modified and replaced by\nmalicious user listening to the traffic in the for example free public WiFi.\nThis is called a man in the middle attack, and you can see it in the picture.\nIn this picture attacker is spoofing the secure sertificate and imagine that with\nHTTP connection they don&#x27;t even have to do it.\n\n- https://support.mozilla.org/en-US/kb/mixed-content-blocking-firefox\n\nNEXT: If we have already a valid SSL certificate, what else\nwe need to check to ensure that our application truly using secure connection?"},{note:"You can see that there is also mentions of FTP and third-party API connections. And it is here for a reason\n- Even if your application security level is pretty good, if part of the system works with less\nsecure components - it is a weak spot that can be used as an attack vector.\n\nWith checking secure connection to our web application, we now sertain at least spoofing on\nour application is a bit harder and requires more skills from attacker."}],b={};function h(e){var t=e.components,a=c(e,["components"]);return Object(s.a)("wrapper",l({},b,a,{components:t,mdxType:"MDXLayout"}),Object(s.a)("h2",null,"10 Steps"),Object(s.a)("ol",null,Object(s.a)("li",{className:"active"},"Use secure connection"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?")),Object(s.a)("hr",null),Object(s.a)("h2",null,"1. Use secure connection (for everything)"),Object(s.a)("img",{src:o.a,className:"slide-bottom content-center"}),Object(s.a)("hr",null),Object(s.a)("h2",null,"1. Use secure connection for everything (fix)"),Object(s.a)("ol",null,Object(s.a)("li",{parentName:"ol"},"Ensure that SSL sertificates are not expired (have a notification when it is)"),Object(s.a)("li",{parentName:"ol"},"Ensure that on load-balancer or proxy serving all requests via secure connection.\nAlso check out ",Object(s.a)("inlineCode",{parentName:"li"},"SECURE_SSL_REDIRECT")," Django setting"),Object(s.a)("li",{parentName:"ol"},"Ensure that every image, javascript and stylesheet are server under secure connection as well"),Object(s.a)("li",{parentName:"ol"},"Ensure that if your application communicate with third-party API it uses a secure connection"),Object(s.a)("li",{parentName:"ol"},"If your application needs to transfer files via FTP, prefer using SFTP")))}h.isMDXComponent=!0},function(e,t,a){"use strict";a.r(t),a.d(t,"slides",(function(){return u})),a.d(t,"fusumaProps",(function(){return p})),a.d(t,"default",(function(){return h}));var n=a(9),o=a.n(n),i=a(2),r=a.n(i),s=a(1);function l(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var u=[function(e){return Object(s.a)(r.a.Fragment,null,Object(s.a)("h2",null,"10 Steps"),Object(s.a)("ol",null,Object(s.a)("li",null,"Use secure connection"),Object(s.a)("li",{className:"active"},"Configure software with security in mind"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?")))},function(e){return Object(s.a)(r.a.Fragment,null,Object(s.a)("h2",null,"2. Configure software with security in mind"),Object(s.a)("ul",null,Object(s.a)("li",{parentName:"ul"},Object(s.a)("a",c({parentName:"li"},{href:"https://owasp.org/www-project-top-ten/OWASP_Top_Ten_2017/Top_10-2017_A6-Security_Misconfiguration"}),"№6 in OWASP Top 10 - Security Misconfiguration")),Object(s.a)("li",{parentName:"ul"},Object(s.a)("a",c({parentName:"li"},{href:"https://owasp.org/www-project-top-ten/OWASP_Top_Ten_2017/Top_10-2017_A10-Insufficient_Logging%252526Monitoring"}),"№10 in OWASP Top 10 - Insufficien Logging and Monitoring"))),Object(s.a)("img",{src:o.a,className:"slide-bottom content-center"}))},function(e){return Object(s.a)(r.a.Fragment,null,Object(s.a)("h2",null,"2. Configure software with security in mind (fix)"),Object(s.a)("pre",null,Object(s.a)("code",c({parentName:"pre"},{className:"language-console"}),"$ python manage.py check --deploy\nSystem check identified some issues:\n\nWARNINGS:\n?: (security.W004) You have not set a value for the SECURE_HSTS_SECONDS setting. If your entire site is served only over SSL, you may want to consider setting a value and enabling HTTP Strict Transport Security. Be sure to read the documentation first; enabling HSTS carelessly can cause serious, irreversible problems.\n?: (security.W008) Your SECURE_SSL_REDIRECT setting is not set to True. Unless your site should be available over both SSL and non-SSL connections, you may want to either set this setting True or configure a load balancer or reverse-proxy server to redirect all connections to HTTPS.\n?: (security.W012) SESSION_COOKIE_SECURE is not set to True. Using a secure-only session cookie makes it more difficult for network traffic sniffers to hijack user sessions.\n?: (security.W016) You have 'django.middleware.csrf.CsrfViewMiddleware' in your MIDDLEWARE, but you have not set CSRF_COOKIE_SECURE to True. Using a secure-only CSRF cookie makes it more difficult for network traffic sniffers to steal the CSRF token.\n?: (security.W018) You should not have DEBUG set to True in deployment.\n?: (security.W020) ALLOWED_HOSTS must not be empty in deployment.\n\nSystem check identified 6 issues (0 silenced).\n")))}],p=[{classes:"ten-steps",note:"Let&#x27;s talk about configuration. It is also seem like an obvious thing to do,\nbut this vulnerability is listed in top 10 vulnerabilities for years,\nand it is pretty important topic to talk about."},{sectionTitle:"Software Configuration",note:"But first, you can see two links to the OWASP top 10. What is it?\n\nhttps://owasp.org/www-project-top-ten/\n\nOWASP - short for Open Web Application Security Project.\nOWASP is a nonprofit foundation that works to improve the security of software.\n\nEvery year they publish 10 most common security vulnerabilities in Web Applications. And in this year\n2020 we have 2 vulnerabilities that, at least in my mind, connected to each other.\nOne is misconfiguration and another is insufficient monitoring which basically means that\nyour system was not configured to alert you about suspicious activities - in other words you won&#x27;t know\nwhen you were hacked.\n\nSo, talking about misconfiguration - on the screenshot you see a Django debug page, it\nintended for local development and shows lots of information, that would be pretty bad to show attackers:\n- Python version\n- Django version\n- Path on the server to the application\n- Sensitive information from the exception itself like user ID and order ID\n- All of the application settings\n- Context information with variable values for the part of the code where exception happaned\n\nThis is intended for the local environment, and very helpful for developer. But let&#x27;s Imagine\nthat this configuration was deployed. Lots of information to break into your application.\n\n**NEXT**: I hope that it is clear, that with this information the attacket at least can Open\ndjango releases page, and look for a simple vulnerabilities that can be performed on Django\nsites with verison lower than listed here. How do we fix that?"},{note:"One simplest thing that we can do, and what (for example) Django is providing to\nus out of the box - is a deploy system check.\n\nWe can see on this slide the output of this check.\nWith the command `python manage.py check --deploy` Django will run a set of\nsecurity checks and report you with things that you need to pay attention to.\n\nBut configuring software and servers is a much broader topic, which cannot fit\ninto this presentation. The only advice here is to read carefult sonftware confguration\nmanuals and regularly checking that indeed conftware is configured properly."}],b={};function h(e){var t=e.components,a=l(e,["components"]);return Object(s.a)("wrapper",c({},b,a,{components:t,mdxType:"MDXLayout"}),Object(s.a)("h2",null,"10 Steps"),Object(s.a)("ol",null,Object(s.a)("li",null,"Use secure connection"),Object(s.a)("li",{className:"active"},"Configure software with security in mind"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?")),Object(s.a)("hr",null),Object(s.a)("h2",null,"2. Configure software with security in mind"),Object(s.a)("ul",null,Object(s.a)("li",{parentName:"ul"},Object(s.a)("a",c({parentName:"li"},{href:"https://owasp.org/www-project-top-ten/OWASP_Top_Ten_2017/Top_10-2017_A6-Security_Misconfiguration"}),"№6 in OWASP Top 10 - Security Misconfiguration")),Object(s.a)("li",{parentName:"ul"},Object(s.a)("a",c({parentName:"li"},{href:"https://owasp.org/www-project-top-ten/OWASP_Top_Ten_2017/Top_10-2017_A10-Insufficient_Logging%252526Monitoring"}),"№10 in OWASP Top 10 - Insufficien Logging and Monitoring"))),Object(s.a)("img",{src:o.a,className:"slide-bottom content-center"}),Object(s.a)("hr",null),Object(s.a)("h2",null,"2. Configure software with security in mind (fix)"),Object(s.a)("pre",null,Object(s.a)("code",c({parentName:"pre"},{className:"language-console"}),"$ python manage.py check --deploy\nSystem check identified some issues:\n\nWARNINGS:\n?: (security.W004) You have not set a value for the SECURE_HSTS_SECONDS setting. If your entire site is served only over SSL, you may want to consider setting a value and enabling HTTP Strict Transport Security. Be sure to read the documentation first; enabling HSTS carelessly can cause serious, irreversible problems.\n?: (security.W008) Your SECURE_SSL_REDIRECT setting is not set to True. Unless your site should be available over both SSL and non-SSL connections, you may want to either set this setting True or configure a load balancer or reverse-proxy server to redirect all connections to HTTPS.\n?: (security.W012) SESSION_COOKIE_SECURE is not set to True. Using a secure-only session cookie makes it more difficult for network traffic sniffers to hijack user sessions.\n?: (security.W016) You have 'django.middleware.csrf.CsrfViewMiddleware' in your MIDDLEWARE, but you have not set CSRF_COOKIE_SECURE to True. Using a secure-only CSRF cookie makes it more difficult for network traffic sniffers to steal the CSRF token.\n?: (security.W018) You should not have DEBUG set to True in deployment.\n?: (security.W020) ALLOWED_HOSTS must not be empty in deployment.\n\nSystem check identified 6 issues (0 silenced).\n")))}h.isMDXComponent=!0},function(e,t,a){"use strict";a.r(t),a.d(t,"slides",(function(){return u})),a.d(t,"fusumaProps",(function(){return p})),a.d(t,"default",(function(){return h}));var n=a(10),o=a.n(n),i=a(2),r=a.n(i),s=a(1);function l(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var u=[function(e){return Object(s.a)(r.a.Fragment,null,Object(s.a)("h2",null,"10 Steps"),Object(s.a)("ol",null,Object(s.a)("li",null,"Use secure connection"),Object(s.a)("li",null,"Configure software with security in mind"),Object(s.a)("li",{className:"active"},"Don't commit secrets to the repository"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?")))},function(e){return Object(s.a)(r.a.Fragment,null,Object(s.a)("h2",null,"3. Don't commit secrets to the repository"),Object(s.a)("h4",null,'2 600 000 results on GitHub containing "SECRET_KEY" word'),Object(s.a)("img",{src:o.a,className:"slide-bottom content-center"}))},function(e){return Object(s.a)(r.a.Fragment,null,Object(s.a)("h2",null,"3. Don't commit secrets to the repository (fix)"),Object(s.a)("ol",null,Object(s.a)("li",{parentName:"ol"},"Create a new secret key"),Object(s.a)("li",{parentName:"ol"},"Use environment variables to store it",Object(s.a)("ul",{parentName:"li"},Object(s.a)("li",{parentName:"ul"},"For Django we use ",Object(s.a)("a",c({parentName:"li"},{href:"https://django-environ.readthedocs.io/en/latest/"}),"Django-environ")))),Object(s.a)("li",{parentName:"ol"},"Remove the old secret key from Git history (if possible)",Object(s.a)("ul",{parentName:"li"},Object(s.a)("li",{parentName:"ul"},"Requires to mess around with Git reflog and might be dangerous"))),Object(s.a)("li",{parentName:"ol"},"Redeploy the application")))}],p=[{classes:"ten-steps",note:"Django security check is pretty good starting point, but it is not perfect,\nand defiantely there is more to check before deploynig your application. One of the\neasy to miss things is commiting the secret codes, password or other sensitive information\nto the version control."},{sectionTitle:"Secrets",note:"What will happen if we commit and push our code with SECRET_KEY\nor any other sensitive data like password to the email service,\nin plain text to the remote repository in GitHub, GitLab or Bitbacket?\n\nOnce something enters the internet, it is really hard to remove\nit. It is a bit scary, I searched in github\nword &quot;secret key&quot; and it shows 2.5M results for only python code\nand for only &quot;SECRET_KEY&quot; keyword.\n\nIn this case we are looking at commited secret keys to Django\napplication. With this string of characters Django encrypt\nand decrypt for example user passwords. With this information\nhackers can create false user sessions and easily decrypt hash of the user password\nthat django keeps in the database to a plain text.\n\n**NEXT**: If we checked our project and found out that secret key to access \nyour email provider was commited to the repository - what will be the next steps?"},{note:"The good news is that external automatic tools, that we will be looking into\na bit later, can detect this and will notify us, _if we will use the tools_.\n\nNext topic is a bit related as well to the overall software configuration and managing, rather than\nactual development."}],b={};function h(e){var t=e.components,a=l(e,["components"]);return Object(s.a)("wrapper",c({},b,a,{components:t,mdxType:"MDXLayout"}),Object(s.a)("h2",null,"10 Steps"),Object(s.a)("ol",null,Object(s.a)("li",null,"Use secure connection"),Object(s.a)("li",null,"Configure software with security in mind"),Object(s.a)("li",{className:"active"},"Don't commit secrets to the repository"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?")),Object(s.a)("hr",null),Object(s.a)("h2",null,"3. Don't commit secrets to the repository"),Object(s.a)("h4",null,'2 600 000 results on GitHub containing "SECRET_KEY" word'),Object(s.a)("img",{src:o.a,className:"slide-bottom content-center"}),Object(s.a)("hr",null),Object(s.a)("h2",null,"3. Don't commit secrets to the repository (fix)"),Object(s.a)("ol",null,Object(s.a)("li",{parentName:"ol"},"Create a new secret key"),Object(s.a)("li",{parentName:"ol"},"Use environment variables to store it",Object(s.a)("ul",{parentName:"li"},Object(s.a)("li",{parentName:"ul"},"For Django we use ",Object(s.a)("a",c({parentName:"li"},{href:"https://django-environ.readthedocs.io/en/latest/"}),"Django-environ")))),Object(s.a)("li",{parentName:"ol"},"Remove the old secret key from Git history (if possible)",Object(s.a)("ul",{parentName:"li"},Object(s.a)("li",{parentName:"ul"},"Requires to mess around with Git reflog and might be dangerous"))),Object(s.a)("li",{parentName:"ol"},"Redeploy the application")))}h.isMDXComponent=!0},function(e,t,a){"use strict";a.r(t),a.d(t,"slides",(function(){return l})),a.d(t,"fusumaProps",(function(){return c})),a.d(t,"default",(function(){return p}));var n=a(2),o=a.n(n),i=a(1);function r(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var l=[function(e){return Object(i.a)(o.a.Fragment,null,Object(i.a)("h2",null,"10 Steps"),Object(i.a)("ol",null,Object(i.a)("li",null,"Use secure connection"),Object(i.a)("li",null,"Configure software with security in mind"),Object(i.a)("li",null,"Don't commit secrets to the repository"),Object(i.a)("li",{className:"active"},"Check application dependencies"),Object(i.a)("li",null,"?"),Object(i.a)("li",null,"?"),Object(i.a)("li",null,"?"),Object(i.a)("li",null,"?"),Object(i.a)("li",null,"?"),Object(i.a)("li",null,"?")))},function(e){return Object(i.a)(o.a.Fragment,null,Object(i.a)("h2",null,"4. Check application dependencies"),Object(i.a)("ul",null,Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",s({parentName:"li"},{href:"https://owasp.org/www-project-top-ten/OWASP_Top_Ten_2017/Top_10-2017_A9-Using_Components_with_Known_Vulnerabilities"}),"№9 in OWASP Top 10 - Using Components with Known Vulnerabilities")),Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",s({parentName:"li"},{href:"https://securityaffairs.co/wordpress/107691/malware/npm-package-fallguys-removed.html"}),"Aug 2020, Malicious JS library that was stealing sensitive files removed from NPM"))),Object(i.a)("img",{src:"https://www.monkeyuser.com/assets/images/2019/116-library-unboxing.png",className:"slide-bottom content-center"}))},function(e){return Object(i.a)(o.a.Fragment,null,Object(i.a)("h2",null,"4. Check application dependencies (fix)"),Object(i.a)("pre",null,Object(i.a)("code",s({parentName:"pre"},{}),"(venv) ➜  django_app safety check --full-report\n+==============================================================================+\n| REPORT                                                                       |\n| checked 40 packages, using default DB                                        |\n+============================+===========+==========================+==========+\n| package                    | installed | affected                 | ID       |\n+============================+===========+==========================+==========+\n| insecure-package           | 0.1.0     | <0.2.0                   | 25853    |\n+==============================================================================+\n| This is an insecure package with lots of exploitable security                |\n| vulnerabilities.                                                             |\n+==============================================================================+\n| django                     | 1.11      | <1.11.19,>=1.11.0        | 36885    |\n+==============================================================================+\n| Django 1.11.x before 1.11.19 allows Uncontrolled Memory Consumption via a    |\n| malicious attacker-supplied value to the django.utils.numberformat.format()  |\n| function.                                                                    |\n+==============================================================================+\n")))}],c=[{classes:"ten-steps",note:"Let&#x27;s talk about application dependencies!"},{sectionTitle:"Dependencies",note:"Libraries are written by people. And people make mistakes, or intentionally do bad things.\n\nAs mentioned before, people are not always nice.\nIn the link on the slide is a recent case when library was stealing personal data under the hood.\nLuckily it was shut down fast. The other important thing related to libraries is that they\nusually have new versions with patched vulnerabilities which we should use.\n\nAnd it is a responsibility of the developer to frequently check and update library versions and setup\nnotifications about new versions.\n\n**NEXT**: There are automatic tools that make having notifications\nabout new secure versions easy to receieve."},{note:"Here we can see an example of the full report of `safety` package, it can not only\nshow insecure versions but also short explanation. See that here we have a mention\nthat some template filters in Django in some circustances can comsule a lot\nof application memory which can be used for denial of service attack. An intent of\nthe Denial od service attack or more common known as DDoS is to temporary or permanently\nmake application unavailable for users.\n\nThis check can be setup to run each time you push changes to the repository, or better\nto run it periodically and send for example emails when new more secure version of the\nlibrary is available."}],u={};function p(e){var t=e.components,a=r(e,["components"]);return Object(i.a)("wrapper",s({},u,a,{components:t,mdxType:"MDXLayout"}),Object(i.a)("h2",null,"10 Steps"),Object(i.a)("ol",null,Object(i.a)("li",null,"Use secure connection"),Object(i.a)("li",null,"Configure software with security in mind"),Object(i.a)("li",null,"Don't commit secrets to the repository"),Object(i.a)("li",{className:"active"},"Check application dependencies"),Object(i.a)("li",null,"?"),Object(i.a)("li",null,"?"),Object(i.a)("li",null,"?"),Object(i.a)("li",null,"?"),Object(i.a)("li",null,"?"),Object(i.a)("li",null,"?")),Object(i.a)("hr",null),Object(i.a)("h2",null,"4. Check application dependencies"),Object(i.a)("ul",null,Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",s({parentName:"li"},{href:"https://owasp.org/www-project-top-ten/OWASP_Top_Ten_2017/Top_10-2017_A9-Using_Components_with_Known_Vulnerabilities"}),"№9 in OWASP Top 10 - Using Components with Known Vulnerabilities")),Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",s({parentName:"li"},{href:"https://securityaffairs.co/wordpress/107691/malware/npm-package-fallguys-removed.html"}),"Aug 2020, Malicious JS library that was stealing sensitive files removed from NPM"))),Object(i.a)("img",{src:"https://www.monkeyuser.com/assets/images/2019/116-library-unboxing.png",className:"slide-bottom content-center"}),Object(i.a)("hr",null),Object(i.a)("h2",null,"4. Check application dependencies (fix)"),Object(i.a)("pre",null,Object(i.a)("code",s({parentName:"pre"},{}),"(venv) ➜  django_app safety check --full-report\n+==============================================================================+\n| REPORT                                                                       |\n| checked 40 packages, using default DB                                        |\n+============================+===========+==========================+==========+\n| package                    | installed | affected                 | ID       |\n+============================+===========+==========================+==========+\n| insecure-package           | 0.1.0     | <0.2.0                   | 25853    |\n+==============================================================================+\n| This is an insecure package with lots of exploitable security                |\n| vulnerabilities.                                                             |\n+==============================================================================+\n| django                     | 1.11      | <1.11.19,>=1.11.0        | 36885    |\n+==============================================================================+\n| Django 1.11.x before 1.11.19 allows Uncontrolled Memory Consumption via a    |\n| malicious attacker-supplied value to the django.utils.numberformat.format()  |\n| function.                                                                    |\n+==============================================================================+\n")))}p.isMDXComponent=!0},function(e,t,a){"use strict";a.r(t),a.d(t,"slides",(function(){return u})),a.d(t,"fusumaProps",(function(){return p})),a.d(t,"default",(function(){return h}));var n=a(11),o=a.n(n),i=a(2),r=a.n(i),s=a(1);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var u=[function(e){return Object(s.a)(r.a.Fragment,null,Object(s.a)("h2",null,"10 Steps"),Object(s.a)("ol",null,Object(s.a)("li",null,"Use secure connection"),Object(s.a)("li",null,"Configure software with security in mind"),Object(s.a)("li",null,"Don't commit secrets to the repository"),Object(s.a)("li",null,"Check application dependencies"),Object(s.a)("li",{className:"active"},"Make it harder for attackers to guess about your application"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?")))},function(e){return Object(s.a)(r.a.Fragment,null,Object(s.a)("h2",null,"5. Make it harder for attackers to guess about your application"),Object(s.a)("ul",null,Object(s.a)("li",{parentName:"ul"},"Can you guess how many users in the system, given that you registered just now? ",Object(s.a)("inlineCode",{parentName:"li"},"https://mysite.com/api/v1/profile/users/21/")),Object(s.a)("li",{parentName:"ul"},"Can you guess the admin login page? ",Object(s.a)("inlineCode",{parentName:"li"},"https://mysite.com/admin/")),Object(s.a)("li",{parentName:"ul"},"Can you guess the admin email? ",Object(s.a)("inlineCode",{parentName:"li"},"admin@mysite.com"))),Object(s.a)("img",{src:o.a,className:"slide-bottom content-center"}))},function(e){return Object(s.a)(r.a.Fragment,null,Object(s.a)("h2",null,"5. Make it harder for hackers to guess about your application (fix)"),Object(s.a)("ol",null,Object(s.a)("li",{parentName:"ol"},"Change the default admin dashboard url"),Object(s.a)("li",{parentName:"ol"},"Use other references for objects than ID from the database"),Object(s.a)("li",{parentName:"ol"},"Check that you are not leaking in plain text information about your system\nin error messages, logs, emails")))}],p=[{classes:"ten-steps",note:"NEXT: As a next step, let&#x27;s see how we can make it harder for attacker to\ngather information about our application"},{sectionTitle:"Guessing",note:"- How hard it is to guess admin login page to make a brute-force attack\n    trying well-known vulnerable passwords?\n- How hard it is to guess the Django version of the application, to try to perform\n    a vulnerability that was not patched in that version?\n\n**NEXT**: Let&#x27;s look on the next slide how we can improve situation a little bit,\nbut keep in mind, this is not to stop the attack but rather\nto make exploring our application not a walk in the park."},{note:"Changing the admin URL can really make a long way and difference. Most automatic\ntools that scans for admin urls on sites have a predefined dictionary of keywords that they use,\nand if you are a harder target, the attacker might just skip you application.\n\nAnd remember all these cases when username and password in plain text was sent over email?\n\nWe talk a bit about configuration of the application, and I mentioned some tools that\nare available to automatically get reports about some of the vulnerabilities. Two next steps are about\nthe tools."}],b={};function h(e){var t=e.components,a=c(e,["components"]);return Object(s.a)("wrapper",l({},b,a,{components:t,mdxType:"MDXLayout"}),Object(s.a)("h2",null,"10 Steps"),Object(s.a)("ol",null,Object(s.a)("li",null,"Use secure connection"),Object(s.a)("li",null,"Configure software with security in mind"),Object(s.a)("li",null,"Don't commit secrets to the repository"),Object(s.a)("li",null,"Check application dependencies"),Object(s.a)("li",{className:"active"},"Make it harder for attackers to guess about your application"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?")),Object(s.a)("hr",null),Object(s.a)("h2",null,"5. Make it harder for attackers to guess about your application"),Object(s.a)("ul",null,Object(s.a)("li",{parentName:"ul"},"Can you guess how many users in the system, given that you registered just now? ",Object(s.a)("inlineCode",{parentName:"li"},"https://mysite.com/api/v1/profile/users/21/")),Object(s.a)("li",{parentName:"ul"},"Can you guess the admin login page? ",Object(s.a)("inlineCode",{parentName:"li"},"https://mysite.com/admin/")),Object(s.a)("li",{parentName:"ul"},"Can you guess the admin email? ",Object(s.a)("inlineCode",{parentName:"li"},"admin@mysite.com"))),Object(s.a)("img",{src:o.a,className:"slide-bottom content-center"}),Object(s.a)("hr",null),Object(s.a)("h2",null,"5. Make it harder for hackers to guess about your application (fix)"),Object(s.a)("ol",null,Object(s.a)("li",{parentName:"ol"},"Change the default admin dashboard url"),Object(s.a)("li",{parentName:"ol"},"Use other references for objects than ID from the database"),Object(s.a)("li",{parentName:"ol"},"Check that you are not leaking in plain text information about your system\nin error messages, logs, emails")))}h.isMDXComponent=!0},function(e,t,a){"use strict";a.r(t),a.d(t,"slides",(function(){return l})),a.d(t,"fusumaProps",(function(){return c})),a.d(t,"default",(function(){return p}));var n=a(2),o=a.n(n),i=a(1);function r(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var l=[function(e){return Object(i.a)(o.a.Fragment,null,Object(i.a)("h2",null,"10 Steps"),Object(i.a)("ol",null,Object(i.a)("li",null,"Use secure connection"),Object(i.a)("li",null,"Configure software with security in mind"),Object(i.a)("li",null,"Don't commit secrets to the repository"),Object(i.a)("li",null,"Check application dependencies"),Object(i.a)("li",null,"Make it harder for attackers to guess about your application"),Object(i.a)("li",{className:"active"},"Research and use the tools that already available"),Object(i.a)("li",null,"?"),Object(i.a)("li",null,"?"),Object(i.a)("li",null,"?"),Object(i.a)("li",null,"?")))},function(e){return Object(i.a)(o.a.Fragment,null,Object(i.a)("h2",null,"6. Research and use the tools that already available"),Object(i.a)("ol",null,Object(i.a)("li",{parentName:"ol"},"Run django deploy check ",Object(i.a)("inlineCode",{parentName:"li"},"python manage.py check --deploy")),Object(i.a)("li",{parentName:"ol"},"Manage user access with ",Object(i.a)("inlineCode",{parentName:"li"},"user_passes_test")," and ",Object(i.a)("inlineCode",{parentName:"li"},"permission_requred")),Object(i.a)("li",{parentName:"ol"},"Manage allowed methods with ",Object(i.a)("inlineCode",{parentName:"li"},"require_safe"),", ",Object(i.a)("inlineCode",{parentName:"li"},"require_POST")),Object(i.a)("li",{parentName:"ol"},"When you need to compare two strings securely use ",Object(i.a)("a",s({parentName:"li"},{href:"https://github.com/django/django/blob/master/django/utils/crypto.py#L77"}),Object(i.a)("inlineCode",{parentName:"a"},"constant_time_compare"))),Object(i.a)("li",{parentName:"ol"},"When you need to securely sign some data and verify it later, use ",Object(i.a)("a",s({parentName:"li"},{href:"https://docs.djangoproject.com/en/3.1/topics/signing/"}),Object(i.a)("inlineCode",{parentName:"a"},"signing"))," module"),Object(i.a)("li",{parentName:"ol"},"To prevent sensitive data being leaked into application logs, use ",Object(i.a)("a",s({parentName:"li"},{href:"https://github.com/django/django/blob/d8e233352877c37c469687287e7761e05bdae94e/django/views/decorators/debug.py#L6"}),Object(i.a)("inlineCode",{parentName:"a"},"sensitive_variables"))," decorator"),Object(i.a)("li",{parentName:"ol"},"To protect POST paramethers being leaked into application logs, use ",Object(i.a)("a",s({parentName:"li"},{href:"https://github.com/django/django/blob/d8e233352877c37c469687287e7761e05bdae94e/django/views/decorators/debug.py#L47"}),Object(i.a)("inlineCode",{parentName:"a"},"sensitive_post_paramethers"))," decorator"),Object(i.a)("li",{parentName:"ol"},"If you need to render JSON to template use ",Object(i.a)("inlineCode",{parentName:"li"},"json_script"))))},function(e){return Object(i.a)(o.a.Fragment,null,Object(i.a)("h2",null,"10 Steps"),Object(i.a)("ol",null,Object(i.a)("li",null,"Use secure connection"),Object(i.a)("li",null,"Configure software with security in mind"),Object(i.a)("li",null,"Don't commit secrets to the repository"),Object(i.a)("li",null,"Check application dependencies"),Object(i.a)("li",null,"Make it harder for attackers to guess about your application"),Object(i.a)("li",null,"Research and use the tools that already available"),Object(i.a)("li",{className:"active"},"Use automatic tools to check your application"),Object(i.a)("li",null,"?"),Object(i.a)("li",null,"?"),Object(i.a)("li",null,"?")))},function(e){return Object(i.a)(o.a.Fragment,null,Object(i.a)("h2",null,"7. Use automatic tools to check your application"),Object(i.a)("ul",null,Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",s({parentName:"li"},{href:"https://www.zaproxy.org/"}),"OWASP ZAP")),Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",s({parentName:"li"},{href:"https://pycharm-security.readthedocs.io/en/latest/"}),"Pycharm Python security plugin")),Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",s({parentName:"li"},{href:"https://pipenv.pypa.io/en/latest/advanced/#detection-of-security-vulnerabilities"}),"Pipenv check")),Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",s({parentName:"li"},{href:"https://github.com/PyCQA/bandit"}),"Bandit")),Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",s({parentName:"li"},{href:"https://github.com/sdelements/django-security"}),"Django-security app")),Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",s({parentName:"li"},{href:"https://github.com/jazzband/django-defender"}),"Django defender")),Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",s({parentName:"li"},{href:"https://github.com/mozilla/django-csp"}),"Django CSP")),Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",s({parentName:"li"},{href:"https://github.com/tonybaloney/django-xss-fuzzer"}),"Django XSS fuzzer")),Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",s({parentName:"li"},{href:"https://observatory.mozilla.org/"}),"Mozilla Observatory"))))}],c=[{classes:"ten-steps",note:"I decided to split them into to because some of the tools can be hard to install\nand use on corporate PC, and there is tools that comes out of the box with Django."},{sectionTitle:"Tools",note:"For example Django comes with a lot of tools out of the box, you\nas a developer just need to be avare of them and use accordingly.\n\nHere are some examples that I found mentioned on the internet. To be honest,\nI did not knew about half of them, and only during research phase found out about them.\nAnd some of the utility functions are not metioned in the official documentation, but since \nDjango is opensource you can and should look into source code and see what useful\nhelper functions Django can provide you.\n\nOne of the interesting tools is constant time comapre. It is related to the side-channel attacks. This\nis a type of attack that is based on measuring how much time each computation (in this case comparing two strings)\nwill take.\n\n**NEXT**: Now when we looked into built-in tools, lets see what extra tools that might be harder to install\nin some workspaces but definately will make our lives easier."},{classes:"ten-steps"},{note:"1. **OWASP ZAP**\n    - This is an attack proxy. It sits between browser and application, intercepts requests, analyzes it for vulnerabilities and puts a report\n        with links to OWASP documentation\n1. **Pycharm python security plugin**\n    - The plugin looks at your Python code for common security vulnerabilities and suggests fixes. This is all-purpose plugin, not only for web-developers\n    - It can automatically check with some extent for SQL injection, XSS and misconfiguration\n1. **Pipenv check**\n    - If you are using Pipenv to lock project dependencies, it provides a command to check your dependencies graph and check for vulnerabilities in package versions\n1. **Bandit**\n    - A tool that checks for security vulnerabilities and reports commited secrects, using raw SQL in Django but also lots of all-purpose security checks\n1. **Django-security app**\n    - Provides number of models, views, middlewares and forms to facilitate security hardening of Django applications.\n1. **Django defender**\n    - A simple Django reusable app that blocks people from brute forcing login attempts.\n1. **Django CSP**\n    - Add content security policy - aloowing to speciafy from where exactly your site is allowed to load any media, static and javascript files\n1. **Mozilla Observatory**\n    - Automatic tool that checks cookies, and request headers and a few other cheecks\n\nNow we slowly coming to a more hard problems."}],u={};function p(e){var t=e.components,a=r(e,["components"]);return Object(i.a)("wrapper",s({},u,a,{components:t,mdxType:"MDXLayout"}),Object(i.a)("h2",null,"10 Steps"),Object(i.a)("ol",null,Object(i.a)("li",null,"Use secure connection"),Object(i.a)("li",null,"Configure software with security in mind"),Object(i.a)("li",null,"Don't commit secrets to the repository"),Object(i.a)("li",null,"Check application dependencies"),Object(i.a)("li",null,"Make it harder for attackers to guess about your application"),Object(i.a)("li",{className:"active"},"Research and use the tools that already available"),Object(i.a)("li",null,"?"),Object(i.a)("li",null,"?"),Object(i.a)("li",null,"?"),Object(i.a)("li",null,"?")),Object(i.a)("hr",null),Object(i.a)("h2",null,"6. Research and use the tools that already available"),Object(i.a)("ol",null,Object(i.a)("li",{parentName:"ol"},"Run django deploy check ",Object(i.a)("inlineCode",{parentName:"li"},"python manage.py check --deploy")),Object(i.a)("li",{parentName:"ol"},"Manage user access with ",Object(i.a)("inlineCode",{parentName:"li"},"user_passes_test")," and ",Object(i.a)("inlineCode",{parentName:"li"},"permission_requred")),Object(i.a)("li",{parentName:"ol"},"Manage allowed methods with ",Object(i.a)("inlineCode",{parentName:"li"},"require_safe"),", ",Object(i.a)("inlineCode",{parentName:"li"},"require_POST")),Object(i.a)("li",{parentName:"ol"},"When you need to compare two strings securely use ",Object(i.a)("a",s({parentName:"li"},{href:"https://github.com/django/django/blob/master/django/utils/crypto.py#L77"}),Object(i.a)("inlineCode",{parentName:"a"},"constant_time_compare"))),Object(i.a)("li",{parentName:"ol"},"When you need to securely sign some data and verify it later, use ",Object(i.a)("a",s({parentName:"li"},{href:"https://docs.djangoproject.com/en/3.1/topics/signing/"}),Object(i.a)("inlineCode",{parentName:"a"},"signing"))," module"),Object(i.a)("li",{parentName:"ol"},"To prevent sensitive data being leaked into application logs, use ",Object(i.a)("a",s({parentName:"li"},{href:"https://github.com/django/django/blob/d8e233352877c37c469687287e7761e05bdae94e/django/views/decorators/debug.py#L6"}),Object(i.a)("inlineCode",{parentName:"a"},"sensitive_variables"))," decorator"),Object(i.a)("li",{parentName:"ol"},"To protect POST paramethers being leaked into application logs, use ",Object(i.a)("a",s({parentName:"li"},{href:"https://github.com/django/django/blob/d8e233352877c37c469687287e7761e05bdae94e/django/views/decorators/debug.py#L47"}),Object(i.a)("inlineCode",{parentName:"a"},"sensitive_post_paramethers"))," decorator"),Object(i.a)("li",{parentName:"ol"},"If you need to render JSON to template use ",Object(i.a)("inlineCode",{parentName:"li"},"json_script"))),Object(i.a)("hr",null),Object(i.a)("h2",null,"10 Steps"),Object(i.a)("ol",null,Object(i.a)("li",null,"Use secure connection"),Object(i.a)("li",null,"Configure software with security in mind"),Object(i.a)("li",null,"Don't commit secrets to the repository"),Object(i.a)("li",null,"Check application dependencies"),Object(i.a)("li",null,"Make it harder for attackers to guess about your application"),Object(i.a)("li",null,"Research and use the tools that already available"),Object(i.a)("li",{className:"active"},"Use automatic tools to check your application"),Object(i.a)("li",null,"?"),Object(i.a)("li",null,"?"),Object(i.a)("li",null,"?")),Object(i.a)("hr",null),Object(i.a)("h2",null,"7. Use automatic tools to check your application"),Object(i.a)("ul",null,Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",s({parentName:"li"},{href:"https://www.zaproxy.org/"}),"OWASP ZAP")),Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",s({parentName:"li"},{href:"https://pycharm-security.readthedocs.io/en/latest/"}),"Pycharm Python security plugin")),Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",s({parentName:"li"},{href:"https://pipenv.pypa.io/en/latest/advanced/#detection-of-security-vulnerabilities"}),"Pipenv check")),Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",s({parentName:"li"},{href:"https://github.com/PyCQA/bandit"}),"Bandit")),Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",s({parentName:"li"},{href:"https://github.com/sdelements/django-security"}),"Django-security app")),Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",s({parentName:"li"},{href:"https://github.com/jazzband/django-defender"}),"Django defender")),Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",s({parentName:"li"},{href:"https://github.com/mozilla/django-csp"}),"Django CSP")),Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",s({parentName:"li"},{href:"https://github.com/tonybaloney/django-xss-fuzzer"}),"Django XSS fuzzer")),Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",s({parentName:"li"},{href:"https://observatory.mozilla.org/"}),"Mozilla Observatory"))))}p.isMDXComponent=!0},function(e,t,a){"use strict";a.r(t),a.d(t,"slides",(function(){return u})),a.d(t,"fusumaProps",(function(){return p})),a.d(t,"default",(function(){return h}));var n=a(12),o=a.n(n),i=a(2),r=a.n(i),s=a(1);function l(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var u=[function(e){return Object(s.a)(r.a.Fragment,null,Object(s.a)("h2",null,"10 Steps"),Object(s.a)("ol",null,Object(s.a)("li",null,"Use secure connection"),Object(s.a)("li",null,"Configure software with security in mind"),Object(s.a)("li",null,"Don't commit secrets to the repository"),Object(s.a)("li",null,"Check application dependencies"),Object(s.a)("li",null,"Make it harder for attackers to guess about your application"),Object(s.a)("li",null,"Research and use the tools that already available"),Object(s.a)("li",null,"Use automatic tools to check your application"),Object(s.a)("li",{className:"active"},"Don't trust user input and sanitize it"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?")))},function(e){return Object(s.a)(r.a.Fragment,null,Object(s.a)("h2",null,"8. Don't trust user input and sanitize it"),Object(s.a)("ul",null,Object(s.a)("li",{parentName:"ul"},Object(s.a)("a",c({parentName:"li"},{href:"https://owasp.org/www-project-top-ten/OWASP_Top_Ten_2017/Top_10-2017_A1-Injection"}),"№1 in OWASP Top 10 - Injection")),Object(s.a)("li",{parentName:"ul"},Object(s.a)("a",c({parentName:"li"},{href:"https://owasp.org/www-project-top-ten/OWASP_Top_Ten_2017/Top_10-2017_A4-XML_External_Entities_(XXE)"}),"№4 in OWASP Top 10 - XML External Entities (XXE)")),Object(s.a)("li",{parentName:"ul"},Object(s.a)("a",c({parentName:"li"},{href:"https://owasp.org/www-project-top-ten/OWASP_Top_Ten_2017/Top_10-2017_A7-Cross-Site_Scripting_(XSS)"}),"№7 in OWASP Top 10 - Cross-Site Scripting XSS")),Object(s.a)("li",{parentName:"ul"},Object(s.a)("a",c({parentName:"li"},{href:"https://owasp.org/www-project-top-ten/OWASP_Top_Ten_2017/Top_10-2017_A8-Insecure_Deserialization"}),"№8 in OWASP Top 10 - Insecure Deserialization"))),Object(s.a)("h3",null,"Not all users are nice."))},function(e){return Object(s.a)(r.a.Fragment,null,Object(s.a)("h2",null,"8. Don't trust user input and sanitize it (XSS)"),Object(s.a)("img",{src:o.a,className:"slide-bottom content-center"}))},function(e){return Object(s.a)(r.a.Fragment,null,Object(s.a)("h2",null,"8. Don't trust user input and sanitize it (XSS prevention)"),Object(s.a)("ol",null,Object(s.a)("li",{parentName:"ol"},"From Django 1.0 - template system by default escapes html code"),Object(s.a)("li",{parentName:"ol"},"Fromt Django 2.1 you can use ",Object(s.a)("inlineCode",{parentName:"li"},"json_script")," to add JSON safely into template"),Object(s.a)("li",{parentName:"ol"},"If you can, use markdown instead of raw HTML to provide users with reach text editor"),Object(s.a)("li",{parentName:"ol"},"But other than that - check your templates for user input and if it was marked as safe (in which case it is UNsafe)")),Object(s.a)("footer",{className:"content-right"},Object(s.a)("a",{href:"https://tonybaloney.github.io/posts/xss-exploitation-in-django.html"},"Anthony Shaw - XSS Exploitation in Django")))},function(e){return Object(s.a)(r.a.Fragment,null,Object(s.a)("h2",null,"8. Don't trust user input and sanitize it (SQLi)"),Object(s.a)("ul",null,Object(s.a)("li",{parentName:"ul"},Object(s.a)("p",{parentName:"li"},Object(s.a)("a",c({parentName:"p"},{href:"https://owasp.org/www-project-top-ten/OWASP_Top_Ten_2017/Top_10-2017_A1-Injection"}),"№1 in OWASP Top 10 - Injection"))),Object(s.a)("li",{parentName:"ul"},Object(s.a)("p",{parentName:"li"},"First attack ",Object(s.a)("a",c({parentName:"p"},{href:"https://www.securityfocus.com/news/346"}),"Feb 2002")," (18 years ago)")),Object(s.a)("li",{parentName:"ul"},Object(s.a)("p",{parentName:"li"},"Recent one - ",Object(s.a)("a",c({parentName:"p"},{href:"https://www.bleepingcomputer.com/news/security/freepik-data-breach-hackers-stole-83m-records-via-sql-injection/"}),"August 2020"),", Freepick SQL injection 83 000 000 user records stolen"))),Object(s.a)("img",{src:"https://imgs.xkcd.com/comics/exploits_of_a_mom.png",className:"slide-bottom content-center large-picture"}))},function(e){return Object(s.a)(r.a.Fragment,null,Object(s.a)("h2",null,"8. Don't trust user input and sanitize it (SQLi example)"),Object(s.a)("pre",null,Object(s.a)("code",c({parentName:"pre"},{className:"language-python"}),"# Malicious SQL code, will return all rows from the\n# db table regardless of initial filter in your SQL code\nuser_input = '\"\" or 1 = 1;--'\n\n# BAD\n# Note that we are formatting the string here, before passing it to Django\nCustomers.objects.raw(\n    f'SELECT * FROM Customers WHERE customer_name = {user_input}'\n)\n\n# BETTER\n# Note that here we passing malicious output to the Django,\n# rather than formatting the SQL code ourself.\n# Postgres is smart enough to escape malicious input and not evaluate it.\nCustomers.objects.raw(\n    'SELECT * FROM Customers WHERE customer_name = %s',\n    [user_input]\n)\n")))},function(e){return Object(s.a)(r.a.Fragment,null,Object(s.a)("h2",null,"8. Don't trust user input and sanitize it (SQLi prevention)"),Object(s.a)("ol",null,Object(s.a)("li",{parentName:"ol"},"Use Django ORM",Object(s.a)("pre",{parentName:"li"},Object(s.a)("code",c({parentName:"pre"},{className:"language-python"}),"user_input = '\"\" or 1 = 1;--'\nCustomers.objects.filter(customer_name=user_input)\n"))),Object(s.a)("li",{parentName:"ol"},"If you can't - pass argumets instead of formatting the string",Object(s.a)("pre",{parentName:"li"},Object(s.a)("code",c({parentName:"pre"},{className:"language-python"}),"user_input = '\"\" or 1 = 1;--'\nCustomers.objects.raw('SELECT * FROM Customers WHERE customer_name = %s', [user_input])\n"))),Object(s.a)("li",{parentName:"ol"},"Run automatic tools regularly to be notified about unprotected SQL formatiing")))}],p=[{classes:"ten-steps"},{sectionTitle:"User Input",note:"User input can take many forms\n- A comment form under the blog post\n- A user profile image that user uploads themself\n- An XML file that user to upload some data\n\nBut what is common theme - is that not all users are nice, and they will not do what they &quot;suppose&quot;\nto do with your application.\n\n**NEXT**: So - 2 most common attacks Cross-site scripting and SQL injection"},{note:"So the story goes that there is a popular at that time application Tweetdeck, that many people\nand celebrities used to manage multiple twitter accounts. And one day one smart person tried to\npost a tweet with javascript code inside. And it worked. After that if you saw that tweet and hit\nlike or retweet you would be greet with an alert - hey there is a XSS vulnerability in Tweetdeck.\nLuckily it was not a malicious user otherwise cosiquences would be far more dangerous.\n\nIn the essence cross site scripting related to unsanitized user input on the client side of the\napplication. Most of the time this attack is most powerful when the code that one user submitted\napplication rendered is visible to other users.\nTypical XSS attacks include session stealing, account takeower, key logging."},{note:"Here are some of the things that you can do, to prevent the XSS attack in Django application.\n\nAnd a super cool in-depth article by Anthony Shaw about XSS in Django and btw he is an author of this\nPycharm security plugin.\n\nSHOULD SKIP?\nMay 2020, XSS in Log-in with facebook button\nhttps://wiraltech.com/xss-vulnerability-in-login-with-facebook-button-pays-usd20000-bounty/\n\n**NEXT**: So this was about a user input displayed on client side\nand now let&#x27;s look at more dangerous server side unsanitized user input"},{note:"SQL injection. This is a number 1 in OWASP top 10, most popular and most dangerous attack.\nThe threat is that user with malicious intent can provide a harmful input to the server,\nand server will execute the code on the Database level.\nAny user can read/change sensible data in the database. And even though this attack is known for\nalmost **20** years\n\nAnd a classical XKCD comics about it\n\nIn this example we are looking into SQL injection, but it can be URL paramethers, request\nheaders, cookies, JSON, XML data inputs.\n\n**NEXT**: Ok, this is a scare and old attack vector, what can we do about it?"},{},{note:"Django ORM is your security blanket here, it will sanitize the user input for you.\nHowever if you provided it with SQL query with user input already there,\nthere is not much Django can do about it.\n\nUsing Django ORM might not be possible in some situations - for example\nlegacy code with huge 200 lines SQL statement that nobody understands anymore\nand it was not updated for 5 years.\nIn this case it is totally fine to pass user input as paramethers,\nthat way it also will be sanitized and escaped by Django and the database.\n\n**Next**: Brave yourself, 2 more steps and we are nearly at the end of the talk,\n going into I would say creative topics"}],b={};function h(e){var t=e.components,a=l(e,["components"]);return Object(s.a)("wrapper",c({},b,a,{components:t,mdxType:"MDXLayout"}),Object(s.a)("h2",null,"10 Steps"),Object(s.a)("ol",null,Object(s.a)("li",null,"Use secure connection"),Object(s.a)("li",null,"Configure software with security in mind"),Object(s.a)("li",null,"Don't commit secrets to the repository"),Object(s.a)("li",null,"Check application dependencies"),Object(s.a)("li",null,"Make it harder for attackers to guess about your application"),Object(s.a)("li",null,"Research and use the tools that already available"),Object(s.a)("li",null,"Use automatic tools to check your application"),Object(s.a)("li",{className:"active"},"Don't trust user input and sanitize it"),Object(s.a)("li",null,"?"),Object(s.a)("li",null,"?")),Object(s.a)("hr",null),Object(s.a)("h2",null,"8. Don't trust user input and sanitize it"),Object(s.a)("ul",null,Object(s.a)("li",{parentName:"ul"},Object(s.a)("a",c({parentName:"li"},{href:"https://owasp.org/www-project-top-ten/OWASP_Top_Ten_2017/Top_10-2017_A1-Injection"}),"№1 in OWASP Top 10 - Injection")),Object(s.a)("li",{parentName:"ul"},Object(s.a)("a",c({parentName:"li"},{href:"https://owasp.org/www-project-top-ten/OWASP_Top_Ten_2017/Top_10-2017_A4-XML_External_Entities_(XXE)"}),"№4 in OWASP Top 10 - XML External Entities (XXE)")),Object(s.a)("li",{parentName:"ul"},Object(s.a)("a",c({parentName:"li"},{href:"https://owasp.org/www-project-top-ten/OWASP_Top_Ten_2017/Top_10-2017_A7-Cross-Site_Scripting_(XSS)"}),"№7 in OWASP Top 10 - Cross-Site Scripting XSS")),Object(s.a)("li",{parentName:"ul"},Object(s.a)("a",c({parentName:"li"},{href:"https://owasp.org/www-project-top-ten/OWASP_Top_Ten_2017/Top_10-2017_A8-Insecure_Deserialization"}),"№8 in OWASP Top 10 - Insecure Deserialization"))),Object(s.a)("h3",null,"Not all users are nice."),Object(s.a)("hr",null),Object(s.a)("h2",null,"8. Don't trust user input and sanitize it (XSS)"),Object(s.a)("img",{src:o.a,className:"slide-bottom content-center"}),Object(s.a)("hr",null),Object(s.a)("h2",null,"8. Don't trust user input and sanitize it (XSS prevention)"),Object(s.a)("ol",null,Object(s.a)("li",{parentName:"ol"},"From Django 1.0 - template system by default escapes html code"),Object(s.a)("li",{parentName:"ol"},"Fromt Django 2.1 you can use ",Object(s.a)("inlineCode",{parentName:"li"},"json_script")," to add JSON safely into template"),Object(s.a)("li",{parentName:"ol"},"If you can, use markdown instead of raw HTML to provide users with reach text editor"),Object(s.a)("li",{parentName:"ol"},"But other than that - check your templates for user input and if it was marked as safe (in which case it is UNsafe)")),Object(s.a)("footer",{className:"content-right"},Object(s.a)("a",{href:"https://tonybaloney.github.io/posts/xss-exploitation-in-django.html"},"Anthony Shaw - XSS Exploitation in Django")),Object(s.a)("hr",null),Object(s.a)("h2",null,"8. Don't trust user input and sanitize it (SQLi)"),Object(s.a)("ul",null,Object(s.a)("li",{parentName:"ul"},Object(s.a)("p",{parentName:"li"},Object(s.a)("a",c({parentName:"p"},{href:"https://owasp.org/www-project-top-ten/OWASP_Top_Ten_2017/Top_10-2017_A1-Injection"}),"№1 in OWASP Top 10 - Injection"))),Object(s.a)("li",{parentName:"ul"},Object(s.a)("p",{parentName:"li"},"First attack ",Object(s.a)("a",c({parentName:"p"},{href:"https://www.securityfocus.com/news/346"}),"Feb 2002")," (18 years ago)")),Object(s.a)("li",{parentName:"ul"},Object(s.a)("p",{parentName:"li"},"Recent one - ",Object(s.a)("a",c({parentName:"p"},{href:"https://www.bleepingcomputer.com/news/security/freepik-data-breach-hackers-stole-83m-records-via-sql-injection/"}),"August 2020"),", Freepick SQL injection 83 000 000 user records stolen"))),Object(s.a)("img",{src:"https://imgs.xkcd.com/comics/exploits_of_a_mom.png",className:"slide-bottom content-center large-picture"}),Object(s.a)("hr",null),Object(s.a)("h2",null,"8. Don't trust user input and sanitize it (SQLi example)"),Object(s.a)("pre",null,Object(s.a)("code",c({parentName:"pre"},{className:"language-python"}),"# Malicious SQL code, will return all rows from the\n# db table regardless of initial filter in your SQL code\nuser_input = '\"\" or 1 = 1;--'\n\n# BAD\n# Note that we are formatting the string here, before passing it to Django\nCustomers.objects.raw(\n    f'SELECT * FROM Customers WHERE customer_name = {user_input}'\n)\n\n# BETTER\n# Note that here we passing malicious output to the Django,\n# rather than formatting the SQL code ourself.\n# Postgres is smart enough to escape malicious input and not evaluate it.\nCustomers.objects.raw(\n    'SELECT * FROM Customers WHERE customer_name = %s',\n    [user_input]\n)\n")),Object(s.a)("hr",null),Object(s.a)("h2",null,"8. Don't trust user input and sanitize it (SQLi prevention)"),Object(s.a)("ol",null,Object(s.a)("li",{parentName:"ol"},"Use Django ORM",Object(s.a)("pre",{parentName:"li"},Object(s.a)("code",c({parentName:"pre"},{className:"language-python"}),"user_input = '\"\" or 1 = 1;--'\nCustomers.objects.filter(customer_name=user_input)\n"))),Object(s.a)("li",{parentName:"ol"},"If you can't - pass argumets instead of formatting the string",Object(s.a)("pre",{parentName:"li"},Object(s.a)("code",c({parentName:"pre"},{className:"language-python"}),"user_input = '\"\" or 1 = 1;--'\nCustomers.objects.raw('SELECT * FROM Customers WHERE customer_name = %s', [user_input])\n"))),Object(s.a)("li",{parentName:"ol"},"Run automatic tools regularly to be notified about unprotected SQL formatiing")))}h.isMDXComponent=!0},function(e,t,a){"use strict";a.r(t),a.d(t,"slides",(function(){return u})),a.d(t,"fusumaProps",(function(){return p})),a.d(t,"default",(function(){return h}));var n=a(13),o=a.n(n),i=a(2),r=a.n(i),s=a(1);function l(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var u=[function(e){return Object(s.a)(r.a.Fragment,null,Object(s.a)("h2",null,"10 Steps"),Object(s.a)("ol",null,Object(s.a)("li",null,"Use secure connection"),Object(s.a)("li",null,"Configure software with security in mind"),Object(s.a)("li",null,"Don't commit secrets to the repository"),Object(s.a)("li",null,"Check application dependencies"),Object(s.a)("li",null,"Make it harder for attackers to guess about your application"),Object(s.a)("li",null,"Research and use the tools that already available"),Object(s.a)("li",null,"Use automatic tools to check your application"),Object(s.a)("li",null,"Don't trust user input and sanitize it"),Object(s.a)("li",{className:"active"},"Protect user data by requesting only what necessary"),Object(s.a)("li",null,"?")))},function(e){return Object(s.a)(r.a.Fragment,null,Object(s.a)("h2",null,"9. Protect user data by requesting only what necessary"),Object(s.a)("ul",null,Object(s.a)("li",{parentName:"ul"},Object(s.a)("a",c({parentName:"li"},{href:"https://owasp.org/www-project-top-ten/OWASP_Top_Ten_2017/Top_10-2017_A3-Sensitive_Data_Exposure"}),"№3 in OWASP Top 10 - Sensitive Data Exposure")),Object(s.a)("li",{parentName:"ul"},Object(s.a)("a",c({parentName:"li"},{href:"https://techcrunch.com/2020/09/23/new-york-sports-clubs-owner-breach/"}),"Sep 2020, Spreadsheet on the server with 600 000 users with billing history and much more")),Object(s.a)("li",{parentName:"ul"},Object(s.a)("a",c({parentName:"li"},{href:"https://cybernews.com/security/one-of-biggest-european-banks-leaking-sensitive-data-on-website/"}),"May 2020, major European Bank leaks sensitive data on their website"))),Object(s.a)("img",{src:o.a,className:"slide-bottom content-center"}))},function(e){return Object(s.a)(r.a.Fragment,null,Object(s.a)("h2",null,"9. Protect user data by requesting only what necessary (example)"),Object(s.a)("pre",null,Object(s.a)("code",c({parentName:"pre"},{className:"language-python"}),'# BAD\nclass UserProfileSerializer(serializers.ModelSeriazlier):\n    class Meta:\n        model = UserProfile\n        fields = "__all__"\n\n# BETTER\nclass UserProfileSerializer(serializers.ModelSeriazlier):\n    class Meta:\n        model = UserProfile\n        # Note that we explicitly saying which data will\n        # be exposed in the application API\n        fields = ("profile_pic", "job_title")\n')))},function(e){return Object(s.a)(r.a.Fragment,null,Object(s.a)("h2",null,"9. Protect user data by requesting only what necessary (preventing)"),Object(s.a)("p",null,"Django nor any automated tool can protect you from making mistakes here."),Object(s.a)("p",null,"However these basic things can help:"),Object(s.a)("ul",null,Object(s.a)("li",{parentName:"ul"},"Carefuly decide what data will be exposed in API"),Object(s.a)("li",{parentName:"ul"},"Mask the data in the API if possible"),Object(s.a)("li",{parentName:"ul"},'Don\'t store sensitive data "just in case"'),Object(s.a)("li",{parentName:"ul"},"Make sure that if you are collecting sensitive data it is encrypted"),Object(s.a)("li",{parentName:"ul"},"All sensitive data should be transmitted only via secure connection"),Object(s.a)("li",{parentName:"ul"},"Disable caching for responses that contain sensitive data")))}],p=[{classes:"ten-steps"},{sectionTitle:"Sensitive Data",note:"Year 2020, one recent case is a gigantic spreadsheet with customer information in plain text laying around\nunprotected on the vulnerable server.\n\nThe second case is European bank leaking account id and api key to the Cloudfront - a content delivery service.\nIt is used to speed up access to large media files such as PDF documents. And with the leaked keys malicious user would potentially\nbe able to download lots of documents with most likely uprotected bank data or change the documents to swap bank account details\nin them to steal some real money.\n\nProtecting sensitive data is super important, so what should we do when we need to work with sensitive data?"},{note:"This is a declaration of how database model will be coonverted\nto a Python datastructure which will be rendered as a JSON in an server API response.\n\nIn the upper example you see a lazy code where you are not specifying database model fields,\nyou just telling the frameowrk to expose everything from the DB.\nIn the better profile serializer you carefully decided and\nexplicitly saying which fields you would like to expose in the API.\n\nCarefully deciding and explicitly enabling the data that got exposed to the API is a key components here."},{note:"I would say that the firs point in the list about deciding what data will be exposed is most critical one\nin most of the cases. Because it is simple a question - do we really need to store this data? And it is most likely\nthat it is a &quot;nice to have&quot; rather than strict requirement. And if it is strictly needed to save you home address for example,\nthen the data needs to be masked and ecrypted."}],b={};function h(e){var t=e.components,a=l(e,["components"]);return Object(s.a)("wrapper",c({},b,a,{components:t,mdxType:"MDXLayout"}),Object(s.a)("h2",null,"10 Steps"),Object(s.a)("ol",null,Object(s.a)("li",null,"Use secure connection"),Object(s.a)("li",null,"Configure software with security in mind"),Object(s.a)("li",null,"Don't commit secrets to the repository"),Object(s.a)("li",null,"Check application dependencies"),Object(s.a)("li",null,"Make it harder for attackers to guess about your application"),Object(s.a)("li",null,"Research and use the tools that already available"),Object(s.a)("li",null,"Use automatic tools to check your application"),Object(s.a)("li",null,"Don't trust user input and sanitize it"),Object(s.a)("li",{className:"active"},"Protect user data by requesting only what necessary"),Object(s.a)("li",null,"?")),Object(s.a)("hr",null),Object(s.a)("h2",null,"9. Protect user data by requesting only what necessary"),Object(s.a)("ul",null,Object(s.a)("li",{parentName:"ul"},Object(s.a)("a",c({parentName:"li"},{href:"https://owasp.org/www-project-top-ten/OWASP_Top_Ten_2017/Top_10-2017_A3-Sensitive_Data_Exposure"}),"№3 in OWASP Top 10 - Sensitive Data Exposure")),Object(s.a)("li",{parentName:"ul"},Object(s.a)("a",c({parentName:"li"},{href:"https://techcrunch.com/2020/09/23/new-york-sports-clubs-owner-breach/"}),"Sep 2020, Spreadsheet on the server with 600 000 users with billing history and much more")),Object(s.a)("li",{parentName:"ul"},Object(s.a)("a",c({parentName:"li"},{href:"https://cybernews.com/security/one-of-biggest-european-banks-leaking-sensitive-data-on-website/"}),"May 2020, major European Bank leaks sensitive data on their website"))),Object(s.a)("img",{src:o.a,className:"slide-bottom content-center"}),Object(s.a)("hr",null),Object(s.a)("h2",null,"9. Protect user data by requesting only what necessary (example)"),Object(s.a)("pre",null,Object(s.a)("code",c({parentName:"pre"},{className:"language-python"}),'# BAD\nclass UserProfileSerializer(serializers.ModelSeriazlier):\n    class Meta:\n        model = UserProfile\n        fields = "__all__"\n\n# BETTER\nclass UserProfileSerializer(serializers.ModelSeriazlier):\n    class Meta:\n        model = UserProfile\n        # Note that we explicitly saying which data will\n        # be exposed in the application API\n        fields = ("profile_pic", "job_title")\n')),Object(s.a)("hr",null),Object(s.a)("h2",null,"9. Protect user data by requesting only what necessary (preventing)"),Object(s.a)("p",null,"Django nor any automated tool can protect you from making mistakes here."),Object(s.a)("p",null,"However these basic things can help:"),Object(s.a)("ul",null,Object(s.a)("li",{parentName:"ul"},"Carefuly decide what data will be exposed in API"),Object(s.a)("li",{parentName:"ul"},"Mask the data in the API if possible"),Object(s.a)("li",{parentName:"ul"},'Don\'t store sensitive data "just in case"'),Object(s.a)("li",{parentName:"ul"},"Make sure that if you are collecting sensitive data it is encrypted"),Object(s.a)("li",{parentName:"ul"},"All sensitive data should be transmitted only via secure connection"),Object(s.a)("li",{parentName:"ul"},"Disable caching for responses that contain sensitive data")))}h.isMDXComponent=!0},function(e,t,a){"use strict";a.r(t),a.d(t,"slides",(function(){return u})),a.d(t,"fusumaProps",(function(){return p})),a.d(t,"default",(function(){return h}));var n=a(14),o=a.n(n),i=a(2),r=a.n(i),s=a(1);function l(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var u=[function(e){return Object(s.a)(r.a.Fragment,null,Object(s.a)("h2",null,"10 Steps"),Object(s.a)("ol",null,Object(s.a)("li",null,"Use secure connection"),Object(s.a)("li",null,"Configure software with security in mind"),Object(s.a)("li",null,"Don't commit secrets to the repository"),Object(s.a)("li",null,"Check application dependencies"),Object(s.a)("li",null,"Make it harder for attackers to guess about your application"),Object(s.a)("li",null,"Research and use the tools that already available"),Object(s.a)("li",null,"Use automatic tools to check your application"),Object(s.a)("li",null,"Don't trust user input and sanitize it"),Object(s.a)("li",null,"Protect user data by requesting only what necessary"),Object(s.a)("li",{className:"active"},"Disallow everything, and granually add permissions as they are required")))},function(e){return Object(s.a)(r.a.Fragment,null,Object(s.a)("h2",null,"10. Disallow everything, and granually add permissions as they are required"),Object(s.a)("ul",null,Object(s.a)("li",{parentName:"ul"},Object(s.a)("a",c({parentName:"li"},{href:"https://owasp.org/www-project-top-ten/OWASP_Top_Ten_2017/Top_10-2017_A5-Broken_Access_Control"}),"№5 in OWASP Top 10 - Broken Access Control"))),Object(s.a)("p",null,Object(s.a)("strong",{parentName:"p"},"Authenticated")," vs ",Object(s.a)("strong",{parentName:"p"},"Authorized")),Object(s.a)("img",{src:o.a,className:"slide-bottom content-center"}),Object(s.a)("span",null,"Photo by ",Object(s.a)("a",{href:"https://unsplash.com/@jyoung?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText"},"Jonathon Young")," on ",Object(s.a)("a",{href:"https://unsplash.com/s/photos/gates?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText"},"Unsplash")))},function(e){return Object(s.a)(r.a.Fragment,null,Object(s.a)("h2",null,"10. Disallow everything, and granually add permissions (example)"),Object(s.a)("pre",null,Object(s.a)("code",c({parentName:"pre"},{className:"language-python"}),'# BAD\ndef transfer_money_view(request):\n    if not request.user.is_authenticated:\n        raise PermissionDenied\n\n    form = TransferMoneyForm(request.GET or request.POST)\n    if form.is_valid():\n        form.save()\n\n    return HttpResponseRedirect(reverse("home"))\n\n# BETTER\ndef transfer_money_view(request):\n    if not request.user.is_authenticated:\n        raise PermissionDenied\n\n    # Note that we also check that user\n    # allowed to make the action\n    if not canTransferMoney(request.user):\n        raise PermissionDenied\n\n    form = TransferMoneyForm(request.GET or request.POST)\n    if form.is_valid():\n        form.save()\n\n    return HttpResponseRedirect(reverse("home"))\n')))},function(e){return Object(s.a)(r.a.Fragment,null,Object(s.a)("h2",null,"10. Disallow everything, and granually add permissions (preventing)"),Object(s.a)("ol",null,Object(s.a)("li",{parentName:"ol"},"Properly apply access permissions by creating specific user roles and checking allowed actions for each user"),Object(s.a)("li",{parentName:"ol"},"Make testing user permissions a regular activity, so you would know when acess control is actually broken"),Object(s.a)("li",{parentName:"ol"},"Follow the simple motto that it is best to disallow everything, and granually add permissions for different user roles")))}],p=[{classes:"ten-steps",note:"So we talked about sensitive data, and this topic is tightly coupled with next and maybe last step - access control. It is coupled in a\nway that having a good access control allow you to leak less sensitive data, because you restricting who allowed to see and do what."},{sectionTitle:"Access Control",note:"Sometimes we check that user is authenticated (which means they have account in our system and logged in when\ndoing some action), but never checking that user authorized (which means that they allowed to do specific thing\nin our system) to view or change the data.\n\nWhat is so dangerous with that you would ask? It starting to be interesting when regular user can do\nthings that only admin users would ideally be allowed to do. It leads to data vandalism in the best case\nscenario - when other users data get changed by one malicious user, changing the main page content to\ncontain offencive wording. It also can result in stealing personal data and many more dangers.\n\nLet&#x27;s look at the code example"},{note:"Why the second example is better? Because there are multiple factors why\nuser might not be allowed to do a money transfer and we are checking for it.\nUser can be unverified, or have suspicious transfer history, or be inactive\nin the system.\n\nOn the next slide I am mentioning some of the things that can be done to\nmake the system less broken with access control."},{note:"Ok, so we covered all 10 steps - woho! congratulations!\nHowever there is one thing that is super important and kinda missing - because\nwithout it, all other steps simply won&#x27;t work."}],b={};function h(e){var t=e.components,a=l(e,["components"]);return Object(s.a)("wrapper",c({},b,a,{components:t,mdxType:"MDXLayout"}),Object(s.a)("h2",null,"10 Steps"),Object(s.a)("ol",null,Object(s.a)("li",null,"Use secure connection"),Object(s.a)("li",null,"Configure software with security in mind"),Object(s.a)("li",null,"Don't commit secrets to the repository"),Object(s.a)("li",null,"Check application dependencies"),Object(s.a)("li",null,"Make it harder for attackers to guess about your application"),Object(s.a)("li",null,"Research and use the tools that already available"),Object(s.a)("li",null,"Use automatic tools to check your application"),Object(s.a)("li",null,"Don't trust user input and sanitize it"),Object(s.a)("li",null,"Protect user data by requesting only what necessary"),Object(s.a)("li",{className:"active"},"Disallow everything, and granually add permissions as they are required")),Object(s.a)("hr",null),Object(s.a)("h2",null,"10. Disallow everything, and granually add permissions as they are required"),Object(s.a)("ul",null,Object(s.a)("li",{parentName:"ul"},Object(s.a)("a",c({parentName:"li"},{href:"https://owasp.org/www-project-top-ten/OWASP_Top_Ten_2017/Top_10-2017_A5-Broken_Access_Control"}),"№5 in OWASP Top 10 - Broken Access Control"))),Object(s.a)("p",null,Object(s.a)("strong",{parentName:"p"},"Authenticated")," vs ",Object(s.a)("strong",{parentName:"p"},"Authorized")),Object(s.a)("img",{src:o.a,className:"slide-bottom content-center"}),Object(s.a)("span",null,"Photo by ",Object(s.a)("a",{href:"https://unsplash.com/@jyoung?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText"},"Jonathon Young")," on ",Object(s.a)("a",{href:"https://unsplash.com/s/photos/gates?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText"},"Unsplash")),Object(s.a)("hr",null),Object(s.a)("h2",null,"10. Disallow everything, and granually add permissions (example)"),Object(s.a)("pre",null,Object(s.a)("code",c({parentName:"pre"},{className:"language-python"}),'# BAD\ndef transfer_money_view(request):\n    if not request.user.is_authenticated:\n        raise PermissionDenied\n\n    form = TransferMoneyForm(request.GET or request.POST)\n    if form.is_valid():\n        form.save()\n\n    return HttpResponseRedirect(reverse("home"))\n\n# BETTER\ndef transfer_money_view(request):\n    if not request.user.is_authenticated:\n        raise PermissionDenied\n\n    # Note that we also check that user\n    # allowed to make the action\n    if not canTransferMoney(request.user):\n        raise PermissionDenied\n\n    form = TransferMoneyForm(request.GET or request.POST)\n    if form.is_valid():\n        form.save()\n\n    return HttpResponseRedirect(reverse("home"))\n')),Object(s.a)("hr",null),Object(s.a)("h2",null,"10. Disallow everything, and granually add permissions (preventing)"),Object(s.a)("ol",null,Object(s.a)("li",{parentName:"ol"},"Properly apply access permissions by creating specific user roles and checking allowed actions for each user"),Object(s.a)("li",{parentName:"ol"},"Make testing user permissions a regular activity, so you would know when acess control is actually broken"),Object(s.a)("li",{parentName:"ol"},"Follow the simple motto that it is best to disallow everything, and granually add permissions for different user roles")))}h.isMDXComponent=!0},function(e,t,a){"use strict";a.r(t),a.d(t,"slides",(function(){return l})),a.d(t,"fusumaProps",(function(){return c})),a.d(t,"default",(function(){return p}));var n=a(2),o=a.n(n),i=a(1);function r(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var l=[function(e){return Object(i.a)(o.a.Fragment,null,Object(i.a)("h2",null,"STEP 0"),Object(i.a)("p",null,"Make security checks a reccuring activity"))},function(e){return Object(i.a)(o.a.Fragment,null,Object(i.a)("h2",null,"What Next?"),Object(i.a)("ol",null,Object(i.a)("li",{parentName:"ol"},"Cache poisoning"),Object(i.a)("li",{parentName:"ol"},"DNS rebinding"),Object(i.a)("li",{parentName:"ol"},"Content sniffing"),Object(i.a)("li",{parentName:"ol"},"Cryptography, SSL"),Object(i.a)("li",{parentName:"ol"},"JWT manipulation"),Object(i.a)("li",{parentName:"ol"},"Server-side template injection"),Object(i.a)("li",{parentName:"ol"},"Malicious uses of Unicode and ASCII"),Object(i.a)("li",{parentName:"ol"},"Timing and other side-channel attacks"),Object(i.a)("li",{parentName:"ol"},"Many more")))},function(e){return Object(i.a)(o.a.Fragment,null,Object(i.a)("h2",null,"Additional Resources"),Object(i.a)("ul",null,Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",s({parentName:"li"},{href:"https://owasp.org/www-project-top-ten/OWASP_Top_Ten_2017/"}),"The Open Web Application Security Project OWAPSP")),Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",s({parentName:"li"},{href:"https://owasp.org/www-pdf-archive/OWASP_SCP_Quick_Reference_Guide_v1-1b.pdf"}),"Extensive OWASP security coding checklist")),Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",s({parentName:"li"},{href:"https://docs.djangoproject.com/en/3.1/topics/security/"}),"Django security docs")),Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",s({parentName:"li"},{href:"https://owasp.org/www-community/Source_Code_Analysis_Tools"}),"Source code analysis tools"))))},function(e){return Object(i.a)(o.a.Fragment,null,Object(i.a)("h2",null,"Thank you!"),Object(i.a)("p",null,"People who made this talk possible by actively talking about security\non various conferences:"),Object(i.a)("ul",null,Object(i.a)("li",{parentName:"ul"},"Anthony Shaw"),Object(i.a)("li",{parentName:"ul"},"Jacinda Shelly"),Object(i.a)("li",{parentName:"ul"},"Jacob Kaplan-Moss"),Object(i.a)("li",{parentName:"ul"},"James Bennett"),Object(i.a)("li",{parentName:"ul"},"Philip James"),Object(i.a)("li",{parentName:"ul"},"Red and Black Tech")),Object(i.a)("p",null,"Madis Petersoo & Karl Õkva for giving feedback"))}],c=[{sectionTitle:"Last Step",note:"NEEDS IMAGE?\n\nAs simple as that. Make security checks you regular activity.\nYou can start slow with a small checklist and scheduled 1h each month.\nI believe that this is something that any client would happily agree to do.\n\n**NEXT**: I have a few more slides with if you want to learn more about security."},{sectionTitle:"What Next?",note:"First is some topics that were not captured by this talk.\nOWASP to 10 is a good starting point, and dealing with most common issues\nis important, but there is a lot more to the vulnerabilities."},{sectionTitle:"Additional Resources",note:"Some reading material -&gt; OWASP documentation, Django security docs"},{sectionTitle:"Appreciation",note:"Last but not least - that you all for coming today and listening to this talk and here\nis a list of people who inspired me to do the talk.\n\nAdditional thank you for Madis Petersoo and Karl Okva for giving me feedback\nabout the talk."}],u={};function p(e){var t=e.components,a=r(e,["components"]);return Object(i.a)("wrapper",s({},u,a,{components:t,mdxType:"MDXLayout"}),Object(i.a)("h2",null,"STEP 0"),Object(i.a)("p",null,"Make security checks a reccuring activity"),Object(i.a)("hr",null),Object(i.a)("h2",null,"What Next?"),Object(i.a)("ol",null,Object(i.a)("li",{parentName:"ol"},"Cache poisoning"),Object(i.a)("li",{parentName:"ol"},"DNS rebinding"),Object(i.a)("li",{parentName:"ol"},"Content sniffing"),Object(i.a)("li",{parentName:"ol"},"Cryptography, SSL"),Object(i.a)("li",{parentName:"ol"},"JWT manipulation"),Object(i.a)("li",{parentName:"ol"},"Server-side template injection"),Object(i.a)("li",{parentName:"ol"},"Malicious uses of Unicode and ASCII"),Object(i.a)("li",{parentName:"ol"},"Timing and other side-channel attacks"),Object(i.a)("li",{parentName:"ol"},"Many more")),Object(i.a)("hr",null),Object(i.a)("h2",null,"Additional Resources"),Object(i.a)("ul",null,Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",s({parentName:"li"},{href:"https://owasp.org/www-project-top-ten/OWASP_Top_Ten_2017/"}),"The Open Web Application Security Project OWAPSP")),Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",s({parentName:"li"},{href:"https://owasp.org/www-pdf-archive/OWASP_SCP_Quick_Reference_Guide_v1-1b.pdf"}),"Extensive OWASP security coding checklist")),Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",s({parentName:"li"},{href:"https://docs.djangoproject.com/en/3.1/topics/security/"}),"Django security docs")),Object(i.a)("li",{parentName:"ul"},Object(i.a)("a",s({parentName:"li"},{href:"https://owasp.org/www-community/Source_Code_Analysis_Tools"}),"Source code analysis tools"))),Object(i.a)("hr",null),Object(i.a)("h2",null,"Thank you!"),Object(i.a)("p",null,"People who made this talk possible by actively talking about security\non various conferences:"),Object(i.a)("ul",null,Object(i.a)("li",{parentName:"ul"},"Anthony Shaw"),Object(i.a)("li",{parentName:"ul"},"Jacinda Shelly"),Object(i.a)("li",{parentName:"ul"},"Jacob Kaplan-Moss"),Object(i.a)("li",{parentName:"ul"},"James Bennett"),Object(i.a)("li",{parentName:"ul"},"Philip James"),Object(i.a)("li",{parentName:"ul"},"Red and Black Tech")),Object(i.a)("p",null,"Madis Petersoo & Karl Õkva for giving feedback"))}p.isMDXComponent=!0},,function(e,t,a){var n=a(3),o=a(59);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1},r=(n(o,i),o.locals?o.locals:{});e.exports=r},function(e,t,a){}],[[22,6,7]],[1,9]]);